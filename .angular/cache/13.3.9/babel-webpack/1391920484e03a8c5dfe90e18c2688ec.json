{"ast":null,"code":"import { Router, ActivatedRoute } from '@angular/router';\nimport { Http } from '@angular/http';\nimport { Transmission, DocumentProgram } from '../transmission';\nimport { TransmissionService } from '../transmission.service';\nimport { DocumentService } from '../../message/document/document.service';\nimport 'rxjs/add/operator/toPromise';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../message/document/document.service\";\nimport * as i4 from \"../transmission.service\";\n\nfunction AddTransSendDocumentComponent_option_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const document_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngValue\", document_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", document_r2.name, \" \");\n  }\n}\n\nconst _c0 = function () {\n  return {\n    standalone: true\n  };\n};\n\nexport let AddTransSendDocumentComponent = /*#__PURE__*/(() => {\n  class AddTransSendDocumentComponent {\n    constructor(http, route, document_service, transmission_service, router) {\n      this.http = http;\n      this.route = route;\n      this.document_service = document_service;\n      this.transmission_service = transmission_service;\n      this.router = router;\n      this.form1 = {};\n      this.documentProgram = new DocumentProgram();\n      this.program_id = null;\n      this.transmission = new Transmission();\n      this.document = [];\n    }\n\n    ngOnInit() {\n      this.getDocumentlist();\n    }\n\n    addSendDocument() {\n      this.transmission_service.add_senddocument(this.documentProgram).then(response => {\n        const program_id = response;\n        this.transmission.program_id = program_id;\n        this.AddTransmission();\n        this.router.navigate(['../../transmissions'], {\n          relativeTo: this.route\n        });\n      });\n    }\n\n    AddTransmission() {\n      this.transmission_service.add_Transmission(this.transmission).then(response => {\n        const transmission_id = response;\n        this.trans_id = transmission_id;\n        this.AddSend(this.trans_id);\n      });\n    }\n\n    AddSend(trans_id) {\n      this.transmission_service.send_transmission(this.trans_id).then(response => {});\n    }\n\n    getDocumentlist() {\n      this.document_service.get_DocumentList().then(data => {\n        this.document = data;\n      });\n    }\n\n    get selectedDoc() {\n      return this.selectedDocument;\n    }\n\n    set selectedDoc(value) {\n      this.selectedDocument = value;\n      this.documentProgram.document_id = this.selectedDocument.document_id;\n    }\n\n    handleError(error) {\n      console.error('An error occurred', error);\n      return Promise.reject(error.message || error);\n    }\n\n  }\n\n  AddTransSendDocumentComponent.ɵfac = function AddTransSendDocumentComponent_Factory(t) {\n    return new (t || AddTransSendDocumentComponent)(i0.ɵɵdirectiveInject(i1.Http), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.DocumentService), i0.ɵɵdirectiveInject(i4.TransmissionService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  AddTransSendDocumentComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddTransSendDocumentComponent,\n    selectors: [[\"ngx-add-transmission-component\"]],\n    decls: 51,\n    vars: 11,\n    consts: [[1, \"col-lg-12\"], [\"id\", \"form1\"], [\"f1\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"title\"], [\"type\", \"text\", \"id\", \"title\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"for\", \"document\"], [\"name\", \"document\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [3, \"ngValue\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"phone\"], [\"type\", \"text\", \"id\", \"phone\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [1, \"col-sm-6\"], [\"for\", \"try_allowed\"], [\"name\", \"try_allowed\", 1, \"form-control\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"value\", \"\"], [\"value\", \"1\"], [\"value\", \"2\"], [\"value\", \"3\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", 3, \"click\"], [3, \"ngValue\"]],\n    template: function AddTransSendDocumentComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h3\");\n        i0.ɵɵtext(1, \"Send Fax Document Program\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 0)(3, \"form\", 1, 2)(5, \"nb-card\")(6, \"nb-card-header\");\n        i0.ɵɵtext(7, \" Title \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"nb-card-body\")(9, \"div\", 3)(10, \"label\", 4);\n        i0.ɵɵtext(11, \"Title:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"input\", 5);\n        i0.ɵɵlistener(\"ngModelChange\", function AddTransSendDocumentComponent_Template_input_ngModelChange_12_listener($event) {\n          return ctx.transmission.title = $event;\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(13, \"nb-card\")(14, \"nb-card-header\");\n        i0.ɵɵtext(15, \" Choose Document \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"nb-card-body\")(17, \"div\")(18, \"label\", 6);\n        i0.ɵɵtext(19, \"Document:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"select\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function AddTransSendDocumentComponent_Template_select_ngModelChange_20_listener($event) {\n          return ctx.selectedDoc = $event;\n        });\n        i0.ɵɵtemplate(21, AddTransSendDocumentComponent_option_21_Template, 2, 2, \"option\", 8);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(22, \"nb-card\")(23, \"nb-card-header\");\n        i0.ɵɵtext(24, \" Phone number of Destination Contact \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"nb-card-body\")(26, \"div\", 3)(27, \"label\", 9);\n        i0.ɵɵtext(28, \"Destination Contact: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"input\", 10);\n        i0.ɵɵlistener(\"ngModelChange\", function AddTransSendDocumentComponent_Template_input_ngModelChange_29_listener($event) {\n          return ctx.transmission.phone = $event;\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(30, \"nb-card\")(31, \"nb-card-header\");\n        i0.ɵɵtext(32, \" Retry \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"nb-card-body\")(34, \"div\", 11)(35, \"div\", 3)(36, \"div\")(37, \"label\", 12);\n        i0.ɵɵtext(38, \"Retry:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"select\", 13);\n        i0.ɵɵlistener(\"ngModelChange\", function AddTransSendDocumentComponent_Template_select_ngModelChange_39_listener($event) {\n          return ctx.transmission.try_allowed = $event;\n        });\n        i0.ɵɵelementStart(40, \"option\", 14);\n        i0.ɵɵtext(41, \"Please Select an Option below\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"option\", 15);\n        i0.ɵɵtext(43, \"1\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(44, \"option\", 16);\n        i0.ɵɵtext(45, \"2\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(46, \"option\", 17);\n        i0.ɵɵtext(47, \"3\");\n        i0.ɵɵelementEnd()()()()()()();\n        i0.ɵɵelementStart(48, \"div\")(49, \"button\", 18);\n        i0.ɵɵlistener(\"click\", function AddTransSendDocumentComponent_Template_button_click_49_listener() {\n          return ctx.addSendDocument();\n        });\n        i0.ɵɵtext(50, \"Submit\");\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngModel\", ctx.transmission.title)(\"ngModelOptions\", i0.ɵɵpureFunction0(8, _c0));\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.selectedDoc);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.document);\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngModel\", ctx.transmission.phone)(\"ngModelOptions\", i0.ɵɵpureFunction0(9, _c0));\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngModel\", ctx.transmission.try_allowed)(\"ngModelOptions\", i0.ɵɵpureFunction0(10, _c0));\n      }\n    },\n    styles: [\"\"]\n  });\n  return AddTransSendDocumentComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}