{"ast":null,"code":"import { NbMediaBreakpointsService, NbMenuService, NbSidebarService, NbThemeService } from '@nebular/theme';\nimport { LayoutService } from '../../../@core/utils';\nimport { map, takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\nimport { NbAuthService } from '@nebular/auth';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@nebular/theme\";\nimport * as i2 from \"../../../@core/utils\";\nimport * as i3 from \"@nebular/auth\";\n\nfunction HeaderComponent_nb_action_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"nb-action\", 8);\n    i0.ɵɵelement(1, \"nb-user\", 9);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"nbContextMenu\", ctx_r0.userMenu)(\"onlyPicture\", ctx_r0.userPictureOnly)(\"name\", ctx_r0.auser == null ? null : ctx_r0.auser.username)(\"picture\", ctx_r0.auser == null ? null : ctx_r0.auser.picture);\n  }\n}\n\nconst _c0 = function () {\n  return [\"view\", \"user\"];\n};\n\nexport let HeaderComponent = /*#__PURE__*/(() => {\n  class HeaderComponent {\n    constructor(sidebarService, menuService, themeService, layoutService, breakpointService, authService) {\n      this.sidebarService = sidebarService;\n      this.menuService = menuService;\n      this.themeService = themeService;\n      this.layoutService = layoutService;\n      this.breakpointService = breakpointService;\n      this.authService = authService;\n      this.destroy$ = new Subject();\n      this.userPictureOnly = false;\n      this.auser = {};\n      this.themes = [{\n        value: 'default',\n        name: 'Light'\n      }, {\n        value: 'dark',\n        name: 'Dark'\n      }, {\n        value: 'cosmic',\n        name: 'Cosmic'\n      }, {\n        value: 'corporate',\n        name: 'Corporate'\n      }];\n      this.currentTheme = 'default';\n      this.userMenu = [{\n        title: 'Change Password',\n        link: '/pages/Changepass'\n      }, {\n        title: 'Log out',\n        link: 'auth/logout'\n      }];\n      this.authService.onTokenChange().subscribe(token => {\n        if (token.isValid()) {\n          this.auser = token.getPayload(); // here we receive a payload from the token and assigns it to our `user` variable\n        }\n      });\n    }\n\n    ngOnInit() {\n      this.currentTheme = this.themeService.currentTheme;\n      const {\n        xl\n      } = this.breakpointService.getBreakpointsMap();\n      this.themeService.onMediaQueryChange().pipe(map(([, currentBreakpoint]) => currentBreakpoint.width < xl), takeUntil(this.destroy$)).subscribe(isLessThanXl => this.userPictureOnly = isLessThanXl);\n      this.themeService.onThemeChange().pipe(map(({\n        name\n      }) => name), takeUntil(this.destroy$)).subscribe(themeName => this.currentTheme = themeName);\n    }\n\n    ngOnDestroy() {\n      this.destroy$.next();\n      this.destroy$.complete();\n    }\n\n    changeTheme(themeName) {\n      this.themeService.changeTheme(themeName);\n    }\n\n    toggleSidebar() {\n      this.sidebarService.toggle(true, 'menu-sidebar');\n      this.layoutService.changeLayoutSize();\n      return false;\n    }\n\n    navigateHome() {\n      this.menuService.navigateHome();\n      return false;\n    }\n\n  }\n\n  HeaderComponent.ɵfac = function HeaderComponent_Factory(t) {\n    return new (t || HeaderComponent)(i0.ɵɵdirectiveInject(i1.NbSidebarService), i0.ɵɵdirectiveInject(i1.NbMenuService), i0.ɵɵdirectiveInject(i1.NbThemeService), i0.ɵɵdirectiveInject(i2.LayoutService), i0.ɵɵdirectiveInject(i1.NbMediaBreakpointsService), i0.ɵɵdirectiveInject(i3.NbAuthService));\n  };\n\n  HeaderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HeaderComponent,\n    selectors: [[\"ngx-header\"]],\n    decls: 12,\n    vars: 2,\n    consts: [[1, \"header-container\"], [1, \"logo-container\"], [\"href\", \"#\", 1, \"sidebar-toggle\", 3, \"click\"], [\"icon\", \"menu-2-outline\"], [\"href\", \"#\", 1, \"logo\", 3, \"click\"], [\"size\", \"small\"], [1, \"control-item\"], [\"class\", \"user-action\", 4, \"nbIsGranted\"], [1, \"user-action\"], [3, \"nbContextMenu\", \"onlyPicture\", \"name\", \"picture\"]],\n    template: function HeaderComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"a\", 2);\n        i0.ɵɵlistener(\"click\", function HeaderComponent_Template_a_click_2_listener() {\n          return ctx.toggleSidebar();\n        });\n        i0.ɵɵelement(3, \"nb-icon\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"a\", 4);\n        i0.ɵɵlistener(\"click\", function HeaderComponent_Template_a_click_4_listener() {\n          return ctx.navigateHome();\n        });\n        i0.ɵɵtext(5, \"ICT\");\n        i0.ɵɵelementStart(6, \"span\");\n        i0.ɵɵtext(7, \"Fax\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(8, \"div\", 0)(9, \"nb-actions\", 5);\n        i0.ɵɵelement(10, \"nb-action\", 6);\n        i0.ɵɵtemplate(11, HeaderComponent_nb_action_11_Template, 2, 4, \"nb-action\", 7);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"nbIsGranted\", i0.ɵɵpureFunction0(1, _c0));\n      }\n    },\n    styles: [\"[_nghost-%COMP%]{display:flex;justify-content:space-between;width:100%}[_nghost-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:calc(var(--sidebar-width) - var(--header-padding))}[_nghost-%COMP%]   nb-action[_ngcontent-%COMP%]{height:auto;display:flex;align-content:center}[_nghost-%COMP%]   nb-user[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]     nb-search button{padding:0!important}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:auto}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{text-decoration:none;color:var(--text-hint-color)}[dir=ltr]   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{padding-right:1.25rem}[dir=rtl]   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]{padding-left:1.25rem}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .sidebar-toggle[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:1.75rem}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{padding:0 1.25rem;font-size:1.75rem;white-space:nowrap;text-decoration:none}[dir=ltr]   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{border-left:1px solid var(--divider-color)}[dir=rtl]   [_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{border-right:1px solid var(--divider-color)}@media (max-width: 767.98px){[_nghost-%COMP%]   .control-item[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .user-action[_ngcontent-%COMP%]{border:none;padding:0}}@media (max-width: 575.98px){[_nghost-%COMP%]   nb-select[_ngcontent-%COMP%]{display:none}}\"]\n  });\n  return HeaderComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}